var __reflect=this&&this.__reflect||function(t,n,e){t.__class__=n,e?e.push(n):e=[n],t.__types__=t.__types__?e.concat(t.__types__):e},__extends=this&&this.__extends||function(t,n){function e(){this.constructor=t}for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r]);e.prototype=n.prototype,t.prototype=new e},GamePlatform=function(){function t(){this.realNameCertification=-1,this.params={},this.inited=!1}return t.prototype.init=function(){this.inited=!0},t.prototype.login=function(t,n){this._loginHandler=n,this._loginFunc=t},t.prototype.pay=function(t,n,e){this._payHandler=e,this._payFunc=n},t.prototype.loginComplete=function(){null!=this._loginHandler&&null!=this._loginFunc&&this._loginFunc.call(this._loginHandler)},t.prototype.payComplete=function(){null!=this._payHandler&&null!=this._payFunc&&this._payFunc.call(this._payHandler)},t.prototype.getSid=function(){return""},t.prototype.onShare=function(t){},t}();__reflect(GamePlatform.prototype,"GamePlatform",["IGamePlatform"]),window.GamePlatform=GamePlatform;var PlatformFanPianWan=function(t){function n(){var n=t.call(this)||this;return n.realNameCertification=-1,n.appId="600008",n.appKey="zAQeydRfyX9P8wPq4JGbfjjyYa181Qdd",n}return __extends(n,t),n.prototype.init=function(){t.prototype.init.call(this),this.params.token=PlatformProxy.getInstance().getQueryString("token"),this.params.appId=this.appId,this.params.channelId=PlatformProxy.getInstance().getQueryString("channelId"),this.params.state=PlatformProxy.getInstance().getQueryString("state"),this.params.time=PlatformProxy.getInstance().getQueryString("time"),this.params.sign=PlatformProxy.getInstance().getQueryString("sign"),this.params.roomid=PlatformProxy.getInstance().getQueryString("roomid"),this.params.codeid=PlatformProxy.getInstance().getQueryString("codeid"),this.params.appState=PlatformProxy.getInstance().getQueryString("appState")},n.prototype.getSid=function(){var t="";return encodeURIComponent(t)},n.prototype.login=function(n,e){t.prototype.login.call(this,n,e),this.loginComplete()},n.prototype.pay=function(t,n,e){},n.prototype.onShare=function(t){var n={};null!=t.ptmatchid&&(n.ptmatchid=t.ptmatchid),fpclient.share({title:t.title,desc:t.desc,imgUrl:"",para:n},t.shareFunc,t.shareObj)},n}(GamePlatform);__reflect(PlatformFanPianWan.prototype,"PlatformFanPianWan"),window.PlatformFanPianWan=PlatformFanPianWan;var PlatformType;!function(t){t[t.None=0]="None",t[t.FanPianWan=3]="FanPianWan"}(PlatformType||(PlatformType={}));var PlatformProxy=function(){function t(){}return t.getInstance=function(){return null==t._inst&&(t._inst=new t),t._inst},Object.defineProperty(t.prototype,"currentPlatform",{get:function(){return this._currentPlatform},enumerable:!0,configurable:!0}),t.prototype.getQueryString=function(t){if(egret.Capabilities.runtimeType==egret.RuntimeType.WEB){var n=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),e=window.location.search.substr(1).match(n),r="";return null!=e&&(r=e[2]),n=null,e=null,null==r||""==r||"undefined"==r?"":r}return""},t.prototype.init=function(t){if(null!=t){var n=t;this.gameApi=n.gameApi,this.gameApiDev=n.gameApiDev,this.gameVersion=n.gameVersion,this.platform=n.platform,""!=this.getQueryString("p")&&(this.platform=+this.getQueryString("p")),egret.Capabilities.runtimeType==egret.RuntimeType.WXGAME&&(this.platform=PlatformType.None),this.platformStartInit()}else console.log(this,"没有找到游戏配置文件")},t.prototype.platformStartInit=function(){this.platform==PlatformType.None?(this._currentPlatform=new GamePlatform,this._currentPlatform.init(),this.platformInitSuccess()):(this.platform==PlatformType.FanPianWan&&(this._currentPlatform=new PlatformFanPianWan),this._currentPlatform.init(),this._currentPlatform.login(this.platformInitSuccess,this))},t.prototype.platformInitSuccess=function(){},t.Login="Platform_Login",t}();__reflect(PlatformProxy.prototype,"PlatformProxy"),window.PlatformType=PlatformType,window.PlatformProxy=PlatformProxy;